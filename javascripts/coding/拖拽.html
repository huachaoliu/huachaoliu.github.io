<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>拖拽功能</title>
	<style>
		#box{width: 100px;height: 100px;background: #f60;position: absolute;}
	</style>
	<script>
		window.onload = function(){
			var box = document.getElementById('box'),
				disX = 0,
				disY = 0;
			document.onmousedown = function(){
				var e = e || event;
				disX = e.clientX - box.offsetLeft;
				disY = e.clientY - box.offsetTop;
				document.onmousemove = function(){
					var e = e || event;
					    l = e.clientX - disX,
					    t = e.clientY - disY,
					    w = document.documentElement.clientWidth - box.offsetWidth || document.body.clientWidth - box.offsetWidth,
					    h = document.documentElement.clientHeight - box.offsetHeight || document.body.clientHeight - box.offsetHeight;
					if (l < 0) {
						l = 0;
					}
					else if (l > w) {
						l = w;
					}
					if (t < 0) {
						t = 0;
					}
					else if (t > h) {
						t = h;
					}
					box.style.left = l + 'px';
					box.style.top = t + 'px';
				} 
				document.onmouseup = function(){
					document.onmousemove = null;
					document.onmouseup = null;
				}
				return false;
			}
		}
	</script>
</head>
<body>
	<div id="box"></div>
</body>
</html>